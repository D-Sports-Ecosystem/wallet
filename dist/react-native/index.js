"use strict";var t=require("react"),e=require("ethers");class n{constructor(){this.events=new Map}on(t,e){this.events.has(t)||this.events.set(t,new Set),this.events.get(t).add(e)}off(t,e){const n=this.events.get(t);n&&(n.delete(e),0===n.size&&this.events.delete(t))}emit(t,e){const n=this.events.get(t);n&&n.forEach(t=>{try{t(e)}catch(t){console.error("Error in event listener:",t)}})}removeAllListeners(t){t?this.events.delete(t):this.events.clear()}}class i extends n{constructor(t,e){super(),this.connectors=new Map,this.config=t,this.adapter=e,this.state={isConnecting:!1,isReconnecting:!1,isDisconnected:!0},this.initialize()}async initialize(){const t=await this.adapter.storage.getItem("dsports-wallet-connector");if(t){this.state.isReconnecting=!0;try{await this.reconnect(t)}catch(t){console.warn("Failed to reconnect to previous wallet:",t)}this.state.isReconnecting=!1}}addConnector(t){this.connectors.set(t.id,t),t.on("connect",e=>{this.handleConnect(t,e)}),t.on("disconnect",()=>{this.handleDisconnect()}),t.on("change",t=>{this.handleChange(t)}),t.on("error",t=>{this.handleError(t)})}removeConnector(t){this.connectors.delete(t)}getConnectors(){return Array.from(this.connectors.values())}getConnector(t){return this.connectors.get(t)}async connect(t,e){const n=this.connectors.get(t);if(!n)throw new Error(`Connector ${t} not found`);this.state.isConnecting=!0,this.state.pendingConnector=t;try{const i=await n.connect(e);return this.currentConnector=n,await this.adapter.storage.setItem("dsports-wallet-connector",t),this.createAccount(i)}catch(t){throw this.state.isConnecting=!1,this.state.pendingConnector=void 0,t}}async disconnect(){this.currentConnector&&(await this.currentConnector.disconnect(),this.currentConnector=void 0),await this.adapter.storage.removeItem("dsports-wallet-connector"),this.handleDisconnect()}async switchChain(t){if(!this.currentConnector)throw new Error("No connector connected");await this.currentConnector.switchChain(t)}getState(){return{...this.state}}getAccount(){return this.state.account}isConnected(){return!!this.state.account?.isConnected}async reconnect(t){const e=this.connectors.get(t);if(e)try{if(await e.isAuthorized()){const n=await e.getAccount(),i=await e.getChainId();this.currentConnector=e,this.state.account={address:n,chainId:i,isConnected:!0,connector:t},this.state.isDisconnected=!1,this.emit("connect",this.state.account)}}catch(t){}}handleConnect(t,e){this.state.isConnecting=!1,this.state.pendingConnector=void 0,this.state.isDisconnected=!1,this.state.account=this.createAccount(e),this.emit("connect",this.state.account)}handleDisconnect(){this.state.account=void 0,this.state.isConnecting=!1,this.state.isReconnecting=!1,this.state.isDisconnected=!0,this.state.pendingConnector=void 0,this.state.error=void 0,this.emit("disconnect")}handleChange(t){t.account&&this.state.account&&(this.state.account.address=t.account,this.emit("accountsChanged",[t.account])),t.chain&&this.state.account&&(this.state.account.chainId=t.chain.id,this.emit("chainChanged",t.chain.id))}handleError(t){const e={name:t.name,message:t.message,code:"WALLET_ERROR",details:t};this.state.error=e,this.emit("error",e)}createAccount(t){return{address:t.account||"",chainId:t.chain?.id||1,isConnected:!0,connector:this.currentConnector?.id}}}class o extends n{constructor(t,e){super(),this.config=t,this.adapter=e}async login(t){this.emit("loginStart",{provider:t});try{let e;e="react-native"===this.adapter.platform?await this.loginReactNative(t):await this.loginWeb(t);const n=await this.generateWalletFromSocial(e),i={provider:t,user:e.user,token:e.token,expiresAt:e.expiresAt,walletAddress:n.address,privateKey:n.privateKey};return await this.storeLoginResult(i),this.emit("loginSuccess",i),i}catch(t){throw this.emit("loginError",t),t}}async loginWeb(t){const e=this.buildAuthUrl(t);return new Promise((t,n)=>{if(this.popup=window.open(e,"dsports-oauth","width=500,height=600,scrollbars=yes,resizable=yes")||void 0,!this.popup)return void n(new Error("Failed to open OAuth popup"));const i=e=>{e.origin===window.location.origin&&("OAUTH_SUCCESS"===e.data.type?(window.removeEventListener("message",i),this.popup?.close(),t(e.data.payload)):"OAUTH_ERROR"===e.data.type&&(window.removeEventListener("message",i),this.popup?.close(),n(new Error(e.data.error))))};window.addEventListener("message",i);const o=setInterval(()=>{this.popup?.closed&&(clearInterval(o),window.removeEventListener("message",i),n(new Error("OAuth popup was closed")))},1e3)})}async loginReactNative(t){this.buildAuthUrl(t);try{if("undefined"!=typeof window&&"function"==typeof window.open)return await this.loginWeb(t);throw new Error("React Native OAuth not fully implemented. Use web-based flow or implement native OAuth.")}catch(t){throw new Error(`React Native OAuth failed: ${t.message}`)}}buildAuthUrl(t){const e=this.config.providers[t];if(!e)throw new Error(`Provider ${t} not configured`);const n=this.config.redirectUri||`${window.location.origin}/auth/callback`,i=new URLSearchParams({client_id:e.clientId,redirect_uri:n,response_type:"code",scope:{google:"openid email profile",facebook:"email public_profile",twitter:"tweet.read users.read",discord:"identify email",github:"user:email",apple:"name email",email:"",sms:""}[t],state:this.generateState()});return`${{google:"https://accounts.google.com/oauth/v2/auth",facebook:"https://www.facebook.com/v18.0/dialog/oauth",twitter:"https://twitter.com/i/oauth2/authorize",discord:"https://discord.com/api/oauth2/authorize",github:"https://github.com/login/oauth/authorize",apple:"https://appleid.apple.com/auth/authorize",email:"",sms:""}[t]}?${i.toString()}`}generateState(){return Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)}async generateWalletFromSocial(t){const n=`${t.user.id}:${t.user.email}:${this.config.appSecret||"dsports-default-secret"}`,i=(new TextEncoder).encode(n),o=await this.adapter.crypto.sha256(i),a="0x"+Array.from(new Uint8Array(o)).map(t=>t.toString(16).padStart(2,"0")).join("");return{address:new e.ethers.Wallet(a).address,privateKey:a}}async logout(){try{await this.clearStoredData(),this.emit("logout")}catch(t){throw console.error("Logout failed:",t),t}}async getStoredUser(){const t=await this.adapter.storage.getItem("dsports-social-token"),e=await this.adapter.storage.getItem("dsports-social-user");if(!t||!e)return null;try{const n=JSON.parse(e);return{provider:n.provider,user:n.user,token:t,expiresAt:n.expiresAt,walletAddress:n.walletAddress,privateKey:n.privateKey}}catch{return null}}async getWalletFromSocial(t){if(t.privateKey)return new e.ethers.Wallet(t.privateKey);const n=await this.generateWalletFromSocial(t);return new e.ethers.Wallet(n.privateKey)}async storeLoginResult(t){await this.adapter.storage.setItem("dsports-social-token",t.token),await this.adapter.storage.setItem("dsports-social-user",JSON.stringify({provider:t.provider,user:t.user,expiresAt:t.expiresAt,walletAddress:t.walletAddress,privateKey:t.privateKey}))}async clearStoredData(){await this.adapter.storage.removeItem("dsports-social-token"),await this.adapter.storage.removeItem("dsports-social-user")}static handleOAuthCallback(t){const e=new URLSearchParams(t.split("?")[1]),n=e.get("code"),i=e.get("error"),o=e.get("state");i?window.parent.postMessage({type:"OAUTH_ERROR",error:i},window.location.origin):n&&window.parent.postMessage({type:"OAUTH_SUCCESS",payload:{code:n,state:o,user:{id:"mock-user-id",email:"user@example.com",name:"Mock User",avatar:"https://example.com/avatar.jpg"},token:"mock-access-token",expiresAt:Date.now()+36e5}},window.location.origin)}}class a{constructor(t){this.id="dsports-wallet",this.name="D-Sports Wallet",this.ready=!0,this.icon="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDgiIGhlaWdodD0iNDgiIHZpZXdCb3g9IjAgMCA0OCA0OCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjQ4IiBoZWlnaHQ9IjQ4IiByeD0iMTIiIGZpbGw9IiM2MzY2RjEiLz4KPHBhdGggZD0iTTI0IDEySDM2VjM2SDI0VjEyWiIgZmlsbD0iI0Y5RkJGRiIvPgo8cGF0aCBkPSJNMTIgMTJIMjRWMjRIMTJWMTJaIiBmaWxsPSIjRjlGQkZGIi8+CjxwYXRoIGQ9Ik0xMiAyNEgyNFYzNkgxMlYyNFoiIGZpbGw9IiNGOUZCRkYiLz4KPC9zdmc+",this.isConnected=!1,this.eventEmitter=new n,this.config=t,this.customSocialLoginProvider=t.customSocialLoginProvider}on(t,e){this.eventEmitter.on(t,e)}off(t,e){this.eventEmitter.off(t,e)}async connect(t){try{if(t?.socialLogin&&this.customSocialLoginProvider)return await this.connectWithSocialLogin();const e=localStorage.getItem("dsports-wallet-account"),n=localStorage.getItem("dsports-wallet-chainId");if(e&&n){this.account=e,this.chainId=parseInt(n),this.isConnected=!0;const t={account:this.account,chain:{id:this.chainId},provider:this.provider};return this.eventEmitter.emit("connect",t),t}this.account=this.generateMockAddress(),this.chainId=t?.chainId||this.config.chains[0]?.id||1,this.isConnected=!0,localStorage.setItem("dsports-wallet-account",this.account),localStorage.setItem("dsports-wallet-chainId",this.chainId.toString());const i={account:this.account,chain:{id:this.chainId},provider:this.provider};return this.eventEmitter.emit("connect",i),i}catch(t){throw this.eventEmitter.emit("error",t),t}}async disconnect(){try{this.account=void 0,this.chainId=void 0,this.isConnected=!1,this.provider=void 0,localStorage.removeItem("dsports-wallet-account"),localStorage.removeItem("dsports-wallet-chainId"),this.eventEmitter.emit("disconnect")}catch(t){throw this.eventEmitter.emit("error",t),t}}async getAccount(){if(!this.account)throw new Error("No account connected");return this.account}async getChainId(){if(!this.chainId)throw new Error("No chain connected");return this.chainId}async getProvider(){return this.provider||(this.provider={request:async t=>{switch(t.method){case"eth_requestAccounts":return[this.account];case"eth_accounts":return this.account?[this.account]:[];case"eth_chainId":return`0x${this.chainId?.toString(16)}`;case"personal_sign":return`0x${"0".repeat(130)}`;default:throw new Error(`Method ${t.method} not supported`)}},on:(t,e)=>{this.on(t,e)},removeListener:(t,e)=>{this.off(t,e)}}),this.provider}async getSigner(){const t=await this.getProvider();return{getAddress:()=>this.getAccount(),signMessage:e=>t.request({method:"personal_sign",params:[e,this.account]}),signTransaction:t=>Promise.resolve(`0x${"0".repeat(130)}`)}}async isAuthorized(){return!!localStorage.getItem("dsports-wallet-account")}async switchChain(t){if(!this.config.chains.find(e=>e.id===t))throw new Error(`Chain ${t} not configured`);this.chainId=t,localStorage.setItem("dsports-wallet-chainId",t.toString()),this.eventEmitter.emit("change",{account:this.account,chain:{id:t},provider:this.provider})}async connectWithSocialLogin(){if(!this.customSocialLoginProvider)throw new Error("Custom social login provider not configured");let t=await this.customSocialLoginProvider.getStoredUser();if(!t||t.expiresAt<Date.now()){const e=await this.promptSocialProvider();t=await this.customSocialLoginProvider.login(e)}this.account=t.walletAddress||this.generateAddressFromSocialLogin(t),this.chainId=this.config.chains[0]?.id||1,this.isConnected=!0,localStorage.setItem("dsports-wallet-account",this.account),localStorage.setItem("dsports-wallet-chainId",this.chainId.toString());const e={account:this.account,chain:{id:this.chainId},provider:this.provider};return this.eventEmitter.emit("connect",e),e}async promptSocialProvider(){return"google"}generateAddressFromSocialLogin(t){const e=`${t.provider}-${t.user.id}`;let n=0;for(let t=0;t<e.length;t++){n=(n<<5)-n+e.charCodeAt(t),n&=n}return`0x${Math.abs(n).toString(16).padStart(8,"0")}${"0".repeat(32)}`}generateMockAddress(){const t=new Uint8Array(20);return crypto.getRandomValues(t),"0x"+Array.from(t).map(t=>t.toString(16).padStart(2,"0")).join("")}}class r{constructor(t){this.id="dsports-wallet",this.name="D-Sports Wallet",this.ready=!0,this.icon="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDgiIGhlaWdodD0iNDgiIHZpZXdCb3g9IjAgMCA0OCA0OCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjQ4IiBoZWlnaHQ9IjQ4IiByeD0iMTIiIGZpbGw9IiM2MzY2RjEiLz4KPHBhdGggZD0iTTI0IDEySDM2VjM2SDI0VjEyWiIgZmlsbD0iI0Y5RkJGRiIvPgo8cGF0aCBkPSJNMTIgMTJIMjRWMjRIMTJWMTJaIiBmaWxsPSIjRjlGQkZGIi8+CjxwYXRoIGQ9Ik0xMiAyNEgyNFYzNkgxMlYyNFoiIGZpbGw9IiNGOUZCRkYiLz4KPC9zdmc+",this.isConnected=!1,this.eventEmitter=new n,this.config=t,this.customSocialLoginProvider=t.customSocialLoginProvider}on(t,e){this.eventEmitter.on(t,e)}off(t,e){this.eventEmitter.off(t,e)}async connect(t){try{if(t?.socialLogin&&this.customSocialLoginProvider)return await this.connectWithSocialLogin();const e=localStorage.getItem("dsports-wagmi-account"),n=localStorage.getItem("dsports-wagmi-chainId");if(e&&n){this.account=e,this.chainId=parseInt(n),this.isConnected=!0;const t={account:this.account,chain:{id:this.chainId},provider:this.provider};return this.eventEmitter.emit("connect",t),t}this.account=this.generateMockAddress(),this.chainId=t?.chainId||this.config.chains[0]?.id||1,this.isConnected=!0,localStorage.setItem("dsports-wagmi-account",this.account),localStorage.setItem("dsports-wagmi-chainId",this.chainId.toString());const i={account:this.account,chain:{id:this.chainId},provider:this.provider};return this.eventEmitter.emit("connect",i),i}catch(t){throw this.eventEmitter.emit("error",t),t}}async disconnect(){try{this.account=void 0,this.chainId=void 0,this.isConnected=!1,this.provider=void 0,localStorage.removeItem("dsports-wagmi-account"),localStorage.removeItem("dsports-wagmi-chainId"),this.eventEmitter.emit("disconnect")}catch(t){throw this.eventEmitter.emit("error",t),t}}async getAccount(){if(!this.account)throw new Error("No account connected");return this.account}async getChainId(){if(!this.chainId)throw new Error("No chain connected");return this.chainId}async getProvider(){return this.provider||(this.provider={request:async t=>{switch(t.method){case"eth_requestAccounts":return[this.account];case"eth_accounts":return this.account?[this.account]:[];case"eth_chainId":return`0x${this.chainId?.toString(16)}`;case"eth_getBalance":return"0x1bc16d674ec80000";case"eth_sendTransaction":return`0x${"0".repeat(64)}`;case"personal_sign":case"eth_signTypedData_v4":return`0x${"0".repeat(130)}`;default:throw new Error(`Method ${t.method} not supported`)}},on:(t,e)=>{this.on(t,e)},removeListener:(t,e)=>{this.off(t,e)},isConnected:()=>this.isConnected,getNetwork:()=>({chainId:this.chainId}),getSigner:()=>this.getSigner()}),this.provider}async getSigner(){const t=await this.getProvider();return{getAddress:()=>this.getAccount(),getChainId:()=>this.getChainId(),signMessage:e=>t.request({method:"personal_sign",params:[e,this.account]}),signTransaction:t=>Promise.resolve(`0x${"0".repeat(130)}`),sendTransaction:t=>Promise.resolve({hash:`0x${"0".repeat(64)}`,wait:()=>Promise.resolve({blockHash:`0x${"0".repeat(64)}`,blockNumber:12345,transactionHash:`0x${"0".repeat(64)}`,status:1})})}}async isAuthorized(){return!!localStorage.getItem("dsports-wagmi-account")}async switchChain(t){if(!this.config.chains.find(e=>e.id===t))throw new Error(`Chain ${t} not configured`);this.chainId=t,localStorage.setItem("dsports-wagmi-chainId",t.toString()),this.eventEmitter.emit("change",{account:this.account,chain:{id:t},provider:this.provider})}async connectWithSocialLogin(){if(!this.customSocialLoginProvider)throw new Error("Custom social login provider not configured");let t=await this.customSocialLoginProvider.getStoredUser();if(!t||t.expiresAt<Date.now()){const e=await this.promptSocialProvider();t=await this.customSocialLoginProvider.login(e)}this.account=t.walletAddress||this.generateAddressFromSocialLogin(t),this.chainId=this.config.chains[0]?.id||1,this.isConnected=!0,localStorage.setItem("dsports-wagmi-account",this.account),localStorage.setItem("dsports-wagmi-chainId",this.chainId.toString());const e={account:this.account,chain:{id:this.chainId},provider:this.provider};return this.eventEmitter.emit("connect",e),e}async promptSocialProvider(){return"google"}generateAddressFromSocialLogin(t){const e=`${t.provider}-${t.user.id}-wagmi`;let n=0;for(let t=0;t<e.length;t++){n=(n<<5)-n+e.charCodeAt(t),n&=n}return`0x${Math.abs(n).toString(16).padStart(8,"0")}${"0".repeat(32)}`}generateMockAddress(){const t=new Uint8Array(20);return crypto.getRandomValues(t),"0x"+Array.from(t).map(t=>t.toString(16).padStart(2,"0")).join("")}}const s={platform:"react-native",storage:{getItem:async t=>{try{const e=require("@react-native-async-storage/async-storage").default;return await e.getItem(t)}catch{return null}},setItem:async(t,e)=>{try{const n=require("@react-native-async-storage/async-storage").default;await n.setItem(t,e)}catch{}},removeItem:async t=>{try{const e=require("@react-native-async-storage/async-storage").default;await e.removeItem(t)}catch{}}},crypto:{generateRandomBytes:t=>{const e=new Uint8Array(t);try{const n=require("crypto").randomBytes(t);for(let i=0;i<t;i++)e[i]=n[i]}catch{for(let n=0;n<t;n++)e[n]=Math.floor(256*Math.random())}return e},sha256:async t=>{try{const e=require("crypto").createHash("sha256");return e.update(t),new Uint8Array(e.digest())}catch{throw new Error("SHA-256 not available in this environment")}}},network:{fetch:async(t,e)=>fetch(t,e)}};function c(t){const e={appName:t.metadata?.name||"D-Sports App",appUrl:t.metadata?.url,appIcon:t.metadata?.icons?.[0],appDescription:t.metadata?.description,projectId:t.projectId,chains:t.chains,socialLogin:t.socialLogin,theme:t.theme},n=new i(e,s);if(t.socialLogin){const i=new o(t.socialLogin,s),c=new a({chains:t.chains,projectId:t.projectId,appName:e.appName,appIcon:e.appIcon,appDescription:e.appDescription,appUrl:e.appUrl,socialLogin:t.socialLogin,customSocialLoginProvider:i}),h=new r({chains:t.chains,projectId:t.projectId,metadata:t.metadata,socialLogin:t.socialLogin,customSocialLoginProvider:i});n.addConnector(c),n.addConnector(h)}else{const i=new a({chains:t.chains,projectId:t.projectId,appName:e.appName,appIcon:e.appIcon,appDescription:e.appDescription,appUrl:e.appUrl}),o=new r({chains:t.chains,projectId:t.projectId,metadata:t.metadata});n.addConnector(i),n.addConnector(o)}return n}exports.CustomSocialLoginProvider=o,exports.DSportsWallet=i,exports.OAuthCallbackPage="\n<!DOCTYPE html>\n<html>\n<head>\n  <title>D-Sports Authentication</title>\n  <style>\n    body { font-family: Arial, sans-serif; text-align: center; padding: 50px; }\n    .loading { color: #666; }\n    .logo { width: 64px; height: 64px; margin: 20px auto; }\n  </style>\n</head>\n<body>\n  <div class=\"logo\">üèÜ</div>\n  <h2>D-Sports Authentication</h2>\n  <p class=\"loading\">Processing your login...</p>\n  <script>\n    // Handle OAuth callback\n    const urlParams = new URLSearchParams(window.location.search);\n    const code = urlParams.get('code');\n    const error = urlParams.get('error');\n    \n    if (error) {\n      window.parent.postMessage({\n        type: 'OAUTH_ERROR',\n        error: error\n      }, window.location.origin);\n    } else if (code) {\n      // In a real implementation, you'd exchange the code for a token on your backend\n      // For demo purposes, we'll simulate the user data\n      window.parent.postMessage({\n        type: 'OAUTH_SUCCESS',\n        payload: {\n          code,\n          user: {\n            id: 'user-' + Math.random().toString(36).substring(7),\n            email: 'user@example.com',\n            name: 'D-Sports User',\n            avatar: 'https://ui-avatars.com/api/?name=DS&background=6366f1&color=fff'\n          },\n          token: 'dsports-token-' + Math.random().toString(36).substring(7),\n          expiresAt: Date.now() + 3600000\n        }\n      }, window.location.origin);\n    }\n  <\/script>\n</body>\n</html>\n",exports.bsc={id:56,name:"BNB Smart Chain",network:"bsc",nativeCurrency:{name:"BNB",symbol:"BNB",decimals:18},rpcUrls:{default:{http:["https://bsc-dataseed.binance.org"]},public:{http:["https://bsc-dataseed.binance.org"]}},blockExplorers:{default:{name:"BscScan",url:"https://bscscan.com"}}},exports.createDSportsRainbowKitConnectorForReactNative=function(t){const e=t.socialLogin?new o(t.socialLogin,s):void 0;return n={...t,customSocialLoginProvider:e},()=>({id:"dsports-wallet",name:"D-Sports Wallet",iconUrl:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDgiIGhlaWdodD0iNDgiIHZpZXdCb3g9IjAgMCA0OCA0OCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjQ4IiBoZWlnaHQ9IjQ4IiByeD0iMTIiIGZpbGw9IiM2MzY2RjEiLz4KPHBhdGggZD0iTTI0IDEySDM2VjM2SDI0VjEyWiIgZmlsbD0iI0Y5RkJGRiIvPgo8cGF0aCBkPSJNMTIgMTJIMjRWMjRIMTJWMTJaIiBmaWxsPSIjRjlGQkZGIi8+CjxwYXRoIGQ9Ik0xMiAyNEgyNFYzNkgxMlYyNFoiIGZpbGw9IiNGOUZCRkYiLz4KPC9zdmc+",iconBackground:"#6366F1",createConnector:()=>({connector:new a(n),mobile:{getUri:async()=>"dsports://wallet/connect"}})});var n},exports.createDSportsWagmiConnectorForReactNative=function(t){const e=t.socialLogin?new o(t.socialLogin,s):void 0;return n={...t,customSocialLoginProvider:e},new r(n);var n},exports.createDSportsWallet=c,exports.dsportsWagmiConnectorForReactNative=function(t){const e=t.socialLogin?new o(t.socialLogin,s):void 0;return n={...t,customSocialLoginProvider:e},()=>({id:"dsports-wallet",name:"D-Sports Wallet",type:"dsports-wallet",icon:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDgiIGhlaWdodD0iNDgiIHZpZXdCb3g9IjAgMCA0OCA0OCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjQ4IiBoZWlnaHQ9IjQ4IiByeD0iMTIiIGZpbGw9IiM2MzY2RjEiLz4KPHBhdGggZD0iTTI0IDEySDM2VjM2SDI0VjEyWiIgZmlsbD0iI0Y5RkJGRiIvPgo8cGF0aCBkPSJNMTIgMTJIMjRWMjRIMTJWMTJaIiBmaWxsPSIjRjlGQkZGIi8+CjxwYXRoIGQ9Ik0xMiAyNEgyNFYzNkgxMlYyNFoiIGZpbGw9IiNGOUZCRkYiLz4KPC9zdmc+",connect:async t=>{const e=new r(n),i=await e.connect(t);return{accounts:[i.account],chainId:i.chain?.id||1}},disconnect:async()=>{},getAccounts:async()=>{const t=new r(n);return[await t.getAccount()]},getChainId:async()=>{const t=new r(n);return await t.getChainId()},getProvider:async()=>{const t=new r(n);return await t.getProvider()},isAuthorized:async()=>{const t=new r(n);return await t.isAuthorized()},switchChain:async t=>{const e=new r(n);return await e.switchChain(t),{id:t,name:n.chains.find(e=>e.id===t)?.name||"Unknown",network:n.chains.find(e=>e.id===t)?.network||"unknown",nativeCurrency:n.chains.find(e=>e.id===t)?.nativeCurrency||{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:n.chains.find(e=>e.id===t)?.rpcUrls||{default:{http:["https://rpc.example.com"]},public:{http:["https://rpc.example.com"]}}}},onAccountsChanged:t=>{},onChainChanged:t=>{},onConnect:t=>{},onDisconnect:()=>{}});var n},exports.getSecureData=async function(t){try{const e=require("react-native-keychain"),n=await e.getInternetCredentials(t);return n?n.password:null}catch{return null}},exports.handleDeepLink=function(t,e){const n=new URL(t);if("dsports:"===n.protocol&&"/wallet/connect"===n.pathname){const t=new URLSearchParams(n.search).get("connector");if(t)return e.connect(t)}return null},exports.mainnet={id:1,name:"Ethereum",network:"homestead",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://eth-mainnet.g.alchemy.com/v2/demo"]},public:{http:["https://eth-mainnet.g.alchemy.com/v2/demo"]}},blockExplorers:{default:{name:"Etherscan",url:"https://etherscan.io"}}},exports.polygon={id:137,name:"Polygon",network:"matic",nativeCurrency:{name:"MATIC",symbol:"MATIC",decimals:18},rpcUrls:{default:{http:["https://polygon-rpc.com"]},public:{http:["https://polygon-rpc.com"]}},blockExplorers:{default:{name:"PolygonScan",url:"https://polygonscan.com"}}},exports.reactNativePlatformAdapter=s,exports.removeSecureData=async function(t){try{const e=require("react-native-keychain");return await e.resetInternetCredentials(t),!0}catch{return!1}},exports.setupURLPolyfill=function(){try{require("react-native-url-polyfill/auto")}catch{console.warn("react-native-url-polyfill not available. URL parsing may not work correctly.")}},exports.storeSecureData=async function(t,e){try{const n=require("react-native-keychain");return await n.setInternetCredentials(t,t,e),!0}catch{return!1}},exports.useDSportsWallet=function(e){const[n,i]=t.useState(e.getState());return t.useEffect(()=>{const t=()=>{i(e.getState())};return e.on("connect",t),e.on("disconnect",t),e.on("accountsChanged",t),e.on("chainChanged",t),e.on("error",t),()=>{e.removeAllListeners()}},[e]),{...n,connect:e.connect.bind(e),disconnect:e.disconnect.bind(e),switchChain:e.switchChain.bind(e),isConnected:e.isConnected.bind(e)}},exports.useSocialLogin=function(e){const[n,i]=t.useState(!1),[o,a]=t.useState(null),[r,s]=t.useState(null);return t.useEffect(()=>{e.getStoredUser().then(t=>{t&&t.expiresAt>Date.now()&&a(t)})},[e]),{user:o,isLoading:n,error:r,login:async t=>{i(!0),s(null);try{const n=await e.login(t);return a(n),n}catch(t){throw s(t),t}finally{i(!1)}},logout:async()=>{i(!0);try{await e.logout(),a(null)}catch(t){s(t)}finally{i(!1)}}}},exports.withDSportsWallet=function(e,n){return function(i){const o=c(n);return t.createElement(e,{...i,wallet:o})}};
//# sourceMappingURL=index.js.map
